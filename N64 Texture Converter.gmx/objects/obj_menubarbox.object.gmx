<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_popup</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>parent = -1
width = 6
height = 5
longesttext = 0
longestshort = 0
shorcutx = 0
highlighted = -1
alarm[0] = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Do Nothing</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i;
var sub = -8;

if (parent == -1 || parent.items == -1) exit
var itemcount = ds_grid_height(parent.items)

draw_set_font(fnt_topbutton)
for (i=0; i&lt;itemcount; i+=1)
{
    var textw = ds_grid_get(parent.items, 1, i);
    if (textw != -1)
    {
        var w;
        var shortw = ds_grid_get(parent.items, 2, i);
        
        // Calculate the pixel width of the text
        textw = string_width(textw)
        if (textw &gt; longesttext)
        {
            longesttext = textw
            shorcutx = 3+16+4+longesttext+10
        }
            
        if (shortw != -1)
        {
            shortw = string_width(shortw)
            if (shortw &gt; longestshort)
                longestshort = shortw
            sub = 0
        }
        w = 3+16+4+longesttext+8+sub+longestshort+20+3
        if (w &gt; width)
            width = w
        height = height+17
    }
    else
        height = height+9
}
draw_set_font(fnt_default)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Do Nothing</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>highlighted = -1
if (mouse_x &gt;= x &amp;&amp; mouse_x &lt; x+width &amp;&amp; mouse_y &gt;= y &amp;&amp; mouse_y &lt; y+height)
{
    if (parent == -1 || parent.items == -1) exit
    var i;
    var h=3;
    var itemcount = ds_grid_height(parent.items)
    for (i=0; i&lt;itemcount; i+=1)
    {
        var item = ds_grid_get(parent.items, 1, i)
        if (item != -1)
        {
            if (mouse_y &gt;= y+h &amp;&amp; mouse_y &lt; y+h+17)
            {
                var execute = ds_grid_get(parent.items, 3, i)
                highlighted = i
                if (mouse_check_button_released(mb_left) &amp;&amp; execute != -1)
                {
                    instance_destroy()
                    script_execute(execute)
                }
            }
            h = h+17
        }
        else
            h = h+9
    }
}
else if (mouse_check_button_pressed(mb_left))
    instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (parent == -1 || parent.items == -1) exit

var i, curh = 3;
var itemcount = ds_grid_height(parent.items)

// Box Shadow
draw_set_alpha(0.2)
draw_set_color(c_black)
draw_roundrect(x+6, y+6, x+width+1, y+height+1, false)
draw_roundrect(x+5, y+5, x+width+2, y+height+2, false)
draw_roundrect(x+4, y+4, x+width+3, y+height+3, false)
draw_set_alpha(1)

// Box outline
draw_set_color(c_white)
draw_rectangle(x, y, x+width, y+height, false)
draw_set_color(make_color_rgb(172, 168, 153))
draw_rectangle(x, y, x+width, y+height, true)
draw_set_color(c_white)

// Box elements
draw_set_font(fnt_topbutton)
for (i=0; i&lt;itemcount; i+=1)
{
    var text = ds_grid_get(parent.items, 1, i);
    if (text != -1)
    {
        var item;    
        
        // Draw the highlighted box
        if (highlighted == i)
        {
            draw_set_color(make_color_rgb(49, 106, 197))
            draw_rectangle(x+3, y+curh, x+width-3, y+curh+16, false)
        }
        
        // Draw the icon
        item = ds_grid_get(parent.items, 0, i);
        if (item != -1)
        {
            draw_set_color(c_white)
            draw_sprite(spr_icons, item, x+4+8, y+curh+8)
        }
        
        // Draw the item text
        if (highlighted == i)
            draw_set_color(c_white)
        else
            draw_set_color(c_black)
        draw_text(x+3+16+4, y+curh+1, text)
        
        // Draw the item shortcut
        item = ds_grid_get(parent.items, 2, i);
        if (item != -1)
            draw_text(x+shorcutx, y+curh+1, item)
        
        // Increment the height
        curh = curh+17
    }
    else
    {
        draw_set_color(make_color_rgb(172, 168, 153))
        draw_line(x+4, y+curh+4, x+width-4, y+curh+4)
        curh = curh+9
    }
}
draw_set_font(fnt_default)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
